name: resnet50_transfer_10k
description: >
  ResNet-50 transfer run tuned for a 10k image subset with balanced per-class sampling
  and conservative AdamW fine-tuning while training only layer4 + fc.
seed: 42
dataset:
  name: imagenet_subset
  total_images: 10000
  per_class_limit: 10
  splits:
    train: 0.8
    val: 0.1
    test: 0.1
  shuffle: true
  selection_seed: 1337
  downloads:
    auto_download: true
    download_dir: downloads
model:
  architecture: resnet50
  pretrained: true
  num_classes: 1000
  head_dropout: 0.2
training:
  epochs: 10
  batch_size: 128
  num_workers: 8
  mixed_precision: true
  eval_interval: 1
  finetune:
    freeze_backbone: true
    trainable_layers:
      - layer4
      - fc
    reset_classifier: true
    freeze_batchnorm: false
  optimizer:
    name: adamw
    params:
      lr: 0.0005
      weight_decay: 0.01
  scheduler:
    name: cosine
    params:
      min_lr: 1.0e-5
defenses:
  stack:
    - type: jpeg
      name: jpeg_quality_75
      params:
        quality: 75
output:
  base_dir: runs
  save_every: 1
